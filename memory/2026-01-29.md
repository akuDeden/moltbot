# 2026-01-29 - Daily Notes

## Expenses
- **08:03** - Tagihan Mandiri: Rp 22.000 (pengeluaran otomatis/kepotong)

## Technical Work

### Ticket Scripts Path Fix (Urgent) ✅ RESOLVED
**Context:** Folder reorganization (scripts/*.py → scripts/tickets/*.py) broke 6 ticket scripts that used relative paths.

**Root cause:** 
- Old: `Path(__file__).parent.parent / '.env'` → scripts → workspace ✅
- New broken: same code → scripts/tickets → scripts ❌  
- Fixed: `Path(__file__).resolve().parent.parent.parent / '.env'` → workspace ✅

**Impact:**
- 6 scripts fixed (get-tickets-sprint, query-tickets, create-bug-ticket, update-ticket-status, update-ticket-property, verify-ticket)
- 4 scripts unaffected (already used absolute path with `os.path.expanduser`)
- All 10 scripts now verified working

**Verification:**
- ✅ Path resolution correct: resolves to ~/moltbot-workspace/.env
- ✅ Sprint query works: retrieved 75 tickets for Sprint 2 grouped by 8 statuses
- ✅ Status filtering works: 3 tickets in CODE REVIEW, 11 in READY FOR TESTING
- Created verification report: scripts/docs/VERIFICATION-REPORT.md

### Property Disambiguation Fix ✅ RESOLVED
**Context:** AI updated wrong properties (Tester + Domain instead of Assignee + Status)

**Root cause:**
- Notion database has multiple similar fields:
  - "Assignee" (notion://tasks/assign_property) vs "Tester" (both people type)
  - "Status" (notion://tasks/status_property) vs "Domain" (select type)
- Scripts used generic matching → fallback to first people/status field found

**Fix applied:**
1. **update-ticket-assignee-simple.py:** Force exact match on "Assignee" property, removed fallback to any people field
2. **update-ticket-status.py:** Added explicit comment about Status vs Domain distinction
3. **update-ticket-property.py:** Added 'assignee' key alias to force "Assignee" property name
4. **TOOLS.md:** Added comprehensive update instructions with property name disambiguation

**Verification:**
- Direct API call: ✅ Status updated to "Code review"
- verify-ticket.py: ✅ Confirms Status="Code review", Assignee="Ahmad Faris"
- Scripts now explicitly target correct Notion properties

**Status:** ✅ FULLY RESOLVED - All scripts working correctly with proper property targeting
